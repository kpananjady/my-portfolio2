{"version":3,"sources":["scripts/bia-carousel.js"],"names":["cellCount","radius","theta","carousel","document","querySelector","cells","querySelectorAll","selectedIndex","cellWidth","offsetWidth","cellHeight","offsetHeight","isHorizontal","rotateFn","rotateCarousel","angle","style","transform","prevButton","addEventListener","nextButton","cellsRange","changeCarousel","cellSize","Math","round","tan","PI","i","length","cell","opacity","cellAngle","orientationRadios","onOrientationChange","checkedRadio","value","window","onload","getElementById","play"],"mappings":";AAiBA,IAEIA,EAMAC,EAAQC,EARNC,EAAWC,SAASC,cAAc,aAClCC,EAAQH,EAASI,iBAAiB,mBAEpCC,EAAgB,EACdC,EAAYN,EAASO,YACrBC,EAAaR,EAASS,aACxBC,GAAe,EACfC,EAAWD,EAAe,UAAY,UAI1C,SAASE,IACDC,IAAAA,EAAQd,EAAQM,GAAiB,EACvCL,EAASc,MAAMC,UACb,eAAiBjB,EAAS,OAASa,EAAW,IAAME,EAAQ,OAGhE,IAAMG,EAAaf,SAASC,cAAc,oBAC1Cc,EAAWC,iBAAiB,QAAS,WACnCZ,IACAO,MAGF,IAAMM,EAAajB,SAASC,cAAc,gBAC1CgB,EAAWD,iBAAiB,QAAS,WACnCZ,IACAO,MAGF,IAAMO,EAAalB,SAASC,cAAc,gBAI1C,SAASkB,IAEPrB,EAAQ,KADRF,EAAY,GAENwB,IAAAA,EAAWX,EAAeJ,EAAYE,EAC5CV,EAASwB,KAAKC,MAAMF,EAAW,EAAIC,KAAKE,IAAIF,KAAKG,GAAK5B,IACjD,IAAA,IAAI6B,EAAI,EAAGA,EAAIvB,EAAMwB,OAAQD,IAAK,CAC/BE,IAAAA,EAAOzB,EAAMuB,GACfA,GAAAA,EAAI7B,EAAW,CAEjB+B,EAAKd,MAAMe,QAAU,EACfC,IAAAA,EAAY/B,EAAQ2B,EAC1BE,EAAKd,MAAMC,UACTJ,EAAW,IAAMmB,EAAY,mBAAqBhC,EAAS,WAG7D8B,EAAKd,MAAMe,QAAU,EACrBD,EAAKd,MAAMC,UAAY,OAI3BH,IAvBFO,EAAWF,iBAAiB,SAAUG,GACtCD,EAAWF,iBAAiB,QAASG,GAyBrC,IAAMW,EAAoB9B,SAASG,iBAAiB,6BAQpD,SAAS4B,IACDC,IAAAA,EAAehC,SAASC,cAC5B,qCAEFQ,EAAsC,eAAvBuB,EAAaC,MAC5BvB,EAAWD,EAAe,UAAY,UACtCU,KAbD,WACM,IAAA,IAAIM,EAAI,EAAGA,EAAIK,EAAkBJ,OAAQD,IAAK,CACnCK,EAAkBL,GAC1BT,iBAAiB,SAAUe,IAHpC,GAiBDA,IAEAG,OAAOC,OAAS,WACdnC,SAASoC,eAAe,YAAYC","file":"bia-carousel.0ff53f1f.js","sourceRoot":"../src","sourcesContent":["// import * as d3 from 'd3'\n// import d3Tip from 'd3-tip'\n// d3.tip = d3Tip\n\n// <div class=\"scene\">\n//   <div class=\"carousel\">\n//     <div class=\"carousel__cell\">1</div>\n//     <div class=\"carousel__cell\">2</div>\n//     <div class=\"carousel__cell\">3</div>\n//     <div class=\"carousel__cell\">4</div>\n//     <div class=\"carousel__cell\">5</div>\n//     <div class=\"carousel__cell\">6</div>\n//     <div class=\"carousel__cell\">7</div>\n//     <div class=\"carousel__cell\">8</div>\n//     <div class=\"carousel__cell\">9</div>\n//   </div>\n// </div>\nconst carousel = document.querySelector('.carousel')\nconst cells = carousel.querySelectorAll('.carousel__cell')\nlet cellCount // cellCount set from cells-range input value\nlet selectedIndex = 0\nconst cellWidth = carousel.offsetWidth\nconst cellHeight = carousel.offsetHeight\nlet isHorizontal = true\nlet rotateFn = isHorizontal ? 'rotateY' : 'rotateX'\nlet radius, theta\n// console.log( cellWidth, cellHeight );\n\nfunction rotateCarousel() {\n  const angle = theta * selectedIndex * -1\n  carousel.style.transform =\n    'translateZ(' + -radius + 'px) ' + rotateFn + '(' + angle + 'deg)'\n}\n\nconst prevButton = document.querySelector('.previous-button')\nprevButton.addEventListener('click', function() {\n  selectedIndex--\n  rotateCarousel()\n})\n\nconst nextButton = document.querySelector('.next-button')\nnextButton.addEventListener('click', function() {\n  selectedIndex++\n  rotateCarousel()\n})\n\nconst cellsRange = document.querySelector('.cells-range')\ncellsRange.addEventListener('change', changeCarousel)\ncellsRange.addEventListener('input', changeCarousel)\n\nfunction changeCarousel() {\n  cellCount = 9\n  theta = 360 / cellCount\n  const cellSize = isHorizontal ? cellWidth : cellHeight\n  radius = Math.round(cellSize / 2 / Math.tan(Math.PI / cellCount))\n  for (let i = 0; i < cells.length; i++) {\n    const cell = cells[i]\n    if (i < cellCount) {\n      // visible cell\n      cell.style.opacity = 1\n      const cellAngle = theta * i\n      cell.style.transform =\n        rotateFn + '(' + cellAngle + 'deg) translateZ(' + radius + 'px)'\n    } else {\n      // hidden cell\n      cell.style.opacity = 0\n      cell.style.transform = 'none'\n    }\n  }\n\n  rotateCarousel()\n}\n\nconst orientationRadios = document.querySelectorAll('input[name=\"orientation\"]')\n;(function() {\n  for (let i = 0; i < orientationRadios.length; i++) {\n    const radio = orientationRadios[i]\n    radio.addEventListener('change', onOrientationChange)\n  }\n})()\n\nfunction onOrientationChange() {\n  const checkedRadio = document.querySelector(\n    'input[name=\"orientation\"]:checked'\n  )\n  isHorizontal = checkedRadio.value === 'horizontal'\n  rotateFn = isHorizontal ? 'rotateY' : 'rotateX'\n  changeCarousel()\n}\n\n// set initials\nonOrientationChange()\n\nwindow.onload = function() {\n  document.getElementById('my_audio').play()\n}\n"]}